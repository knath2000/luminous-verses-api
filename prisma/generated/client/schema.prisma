generator client {
  provider        = "prisma-client-js"
  output          = "./generated/client"
  previewFeatures = ["driverAdapters"]
  binaryTargets   = ["native", "rhel-openssl-3.0.x", "darwin-arm64"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model EnYusufali {
  index BigInt  @id @default(autoincrement())
  sura  BigInt?
  aya   BigInt?
  text  String?

  @@map("en_yusufali")
}

model QuranSajda {
  sajdaId     BigInt  @id @default(autoincrement()) @map("sajda_id")
  surahNumber BigInt? @map("surah_number")
  ayahNumber  BigInt? @map("ayah_number")
  type        String?

  @@map("quran_sajdas")
}

model QuranSurah {
  number             BigInt  @id @default(autoincrement())
  arabicName         String? @map("arabic_name")
  transliteration    String?
  englishName        String? @map("english_name")
  ayas               BigInt?
  revelationType     String? @map("revelation_type")
  chronologicalOrder BigInt? @map("chronological_order")
  rukus              BigInt?
  startIndex         BigInt? @map("start_index")

  @@map("quran_surahs")
}

model QuranText {
  id   BigInt  @id @default(autoincrement())
  sura BigInt?
  aya  BigInt?
  text String?

  @@map("quran_text")
}

model SurahDescription {
  surahId     BigInt    @id @map("surah_id")
  description String?
  updatedAt   DateTime? @default(now()) @map("updated_at") @db.Timestamp(6)

  @@map("surah_descriptions")
}

model UserBookmark {
  id          String    @id(map: "sqlite_autoindex_user_bookmarks_1") @default(cuid())
  userid      String?
  surahid     BigInt?
  versenumber BigInt?
  versetext   String?
  surahname   String?
  translation String?
  notes       String?
  createdat   DateTime? @default(now()) @db.Timestamptz(6)
  updatedat   DateTime? @default(now()) @db.Timestamptz(6)

  @@unique([userid, surahid, versenumber], map: "sqlite_autoindex_user_bookmarks_2")
  @@map("user_bookmarks")
}

model QuranTransliteration {
  id            BigInt   @id @default(autoincrement())
  sura          BigInt
  aya           BigInt
  rawText       String?  @map("raw_text")
  cleanText     String?  @map("clean_text")
  formattedText String?  @map("formatted_text")
  source        String?  @default("tanzil.net")
  createdAt     DateTime @default(now()) @map("created_at")

  @@unique([sura, aya])
  @@map("quran_transliterations")
}
